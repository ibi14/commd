<!-- Store the page data as JSON in a script tag -->
<script id="page-data" type="application/json">
{{ .Site.RegularPages | jsonify }}
</script>

<script src="/js/search.js"></script>
<script>
window.addEventListener('load', function() {
    // Read the JSON from the script tag
    const dataElement = document.getElementById('page-data');
    const posts = JSON.parse(dataElement.textContent);
    initSearch(posts);
});
</script>